{% extends 'base.html' %}

{% block title %}Sign in{% endblock title %}

{% block bodyclass %}login-page{% endblock bodyclass %}

{% block pageheader %}

    {% if next %}
        {% if user.is_authenticated %}
        <p>Your account doesn't have access to this page. To proceed,
        please sign in with an account that has access.</p>
        {% else %}
        <p>Please sign in to see this page.</p>
        {% endif %}
    {% endif %}

    <div class="page-header header-filter" filter-color="default" style="background-image: url(''); background-size: cover; background-position: top center;">
        <div class="container">
            <div class="row">
                <div class="col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3">
                    <div class="card card-signup">
                        <div class="header header-warning text-center">
                            <h4 class="card-title">Sign in</h4>
                        </div>
                        <form method="post" action="{% url 'accounts:signin' %}">
                            {% csrf_token %}
                            <div class="card-content">
                                <div class="input-group">
                                    <span class="input-group-addon">
                                        <i class="fal fa-envelope fa-lg"></i>
                                    </span>
                                    <input type="text" class="form-control" placeholder="Your email" name="username" autofocus maxlength="254" required id="id_username">                                    
                                </div>

                                <div class="input-group">
                                    <span class="input-group-addon">
                                        <i class="fal fa-key fa-lg"></i>
                                    </span>
                                    <input type="password" placeholder="Your password" class="form-control" name="password" required id="id_password" />
                                </div>

                                {% if form.errors %}                                  
                                    <div class="col-md-11 col-md-offset-1">
                                        <div class="alert alert-danger">    
                                          <div class="alert-icon">
                                            <i class="material-icons">error_outline</i>
                                          </div>
                                          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                            <span aria-hidden="true"><i class="material-icons">clear</i></span>
                                          </button>
                                          <b>sign in has failed.</b>
                                        </div>
                                    </div>                                  
                                {% endif %}

                            </div>
                            <div class="footer text-center">
                                <button class="btn btn-warning btn-simple btn-wd btn-lg" type="submit">
                                    Sign In <i class="fal fa-arrow-right fa-lg"></i>
                                </button>
                                <input type="hidden" name="next" value="{{ next }}" />
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
{% endblock pageheader %}

{% block main %}{% endblock main %}