{% extends 'base_info.html' %}
{% load i18n %}
{% load accounts_extras %}
{% load static %}

{% block title %}{% trans "Subscribers" %}{% endblock title %}

{% block pageheader_title %}
    {% trans "Subscribers" %}
{% endblock pageheader_title %}

{% block pageheader_content %}
    
    
    <div class="row">
            {% for ugroups in users_groups %}
            <div class="col-6">
                {% get_language_info for ugroups.language as lang %}
                <button class="btn btn-warning btn-block" data-clipboard-text="{% for user in users_lan|get_item:lang.code %}{{ user.email }};{% endfor %}">
                    {% blocktrans with lang_code=lang.code %}Contact {{ lang_code }} users{% endblocktrans %} <span class="badge badge-pill badge-info">{{ ugroups.total }}</span>
                </button> &nbsp;
            </div>
            {% endfor %}            
    </div>
    

    <div class="row">
        {% for sgroups in subscribers_groups %}
            <div class="col-6">
                {% get_language_info for sgroups.language as lang %}
                <button class="btn btn-warning btn-block" data-clipboard-text="{% for user in subscribers_lan|get_item:lang.code %}{{ user.email }};{% endfor %}">
                    {% blocktrans with lang_code=lang.code %}Contact {{ lang_code }} subscribers{% endblocktrans %} <span class="badge badge-pill badge-info">{{ sgroups.total }}</span>
                </button> &nbsp;
            </div>
        {% endfor %}
    </div>

{% endblock pageheader_content %}

{% block extrascript %}
    <script type="text/javascript" src="{% static 'clipboard/clipboard.min.js' %}"></script>
    <script type="text/javascript" src="{% url 'javascript-catalog' %}"></script>
    <script>
        var clipboard = new ClipboardJS('.btn');
        clipboard.on('success', function(e) {
            console.log(e);
            alert('{{ msg_success }}')
        });

        clipboard.on('error', function(e) {
            console.log(e);
            alert('{{ msg_failure }}')
        });
    </script>
{% endblock extrascript %}